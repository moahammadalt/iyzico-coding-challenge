(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,a){e.exports=a(84)},55:function(e,t,a){},82:function(e,t,a){e.exports=a.p+"static/media/back.fe63ba14.png"},84:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),s=a.n(c),o=a(7),i=a(8),l=a(9),d=a(12),h=a(10),p=a(11),u=a(18),m=a.n(u),E=a(86),f=a(87),b=a(88),v=(a(55),function(){return n.a.createElement("div",{className:"text-center c-w"},n.a.createElement("h1",null,"This path is not found"))}),S=a(85),C=function(){return n.a.createElement("header",{className:"header"},n.a.createElement(S.a,{to:"/"},n.a.createElement("h1",{className:"logo"},"RICK AND MORTY")))},g=a(15),y=a(13),N=a(14),O=function(e){var t=e.character;return n.a.createElement("div",{className:"character-main-card"},n.a.createElement("img",{className:"character-main-img-top rounded",src:t.image,alt:"sorry, not available now"}),n.a.createElement("div",{className:"character-name-bottom"},n.a.createElement("h3",{className:"character-name"},t.name)))},w=function(e,t){return!(void 0===(e=t?t.split(".").reduce(function(e,t){return"undefined"==typeof e||null===e?e:e[t]},e):e)||null===e||!e&&0!==e&&"0"!==e||""===e||/^\s*$/.test(e)||"object"===typeof e&&T(e))},T=function(e){if(null==e||0===e.length||"object"!==typeof e)return!0;if(e.length>0||e instanceof Date)return!1;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},_=function(e){return m.a.error("".concat(e))},j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleScroll=a.handleScroll.bind(Object(y.a)(a)),a.fetchCharactersData=a.fetchCharactersData.bind(Object(y.a)(a)),a.handleCharacterCardClick=a.handleCharacterCardClick.bind(Object(y.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",this.handleScroll),setTimeout(function(){return window.scrollTo(0,e.props.scrollIndicator)},0),0===this.props.charactersList.length&&this.fetchCharactersData()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"fetchCharactersData",value:function(){var e=this;this.props.setLoadingSpinnerStatus(!0),Object(N.getCharacter)({page:this.props.charactersPageNumber}).then(function(t){e.props.setCharacterList([].concat(Object(g.a)(e.props.charactersList),Object(g.a)(t.results))),e.props.setCharactersPageNumber(!!w(t.info.next)&&e.props.charactersPageNumber+1),e.props.setLoadingSpinnerStatus(!1)}).catch(function(e){return _(e)})}},{key:"handleScroll",value:function(){this.props.charactersPageNumber&&!this.props.loadingSpinner&&window.innerHeight+window.scrollY>=this.refs.homeRef.offsetHeight&&this.fetchCharactersData()}},{key:"handleCharacterCardClick",value:function(e){this.props.setSelectedCharacter(e),this.props.setScrollIndicator(window.scrollY)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"home-container",ref:"homeRef"},this.props.loadingSpinner?n.a.createElement("div",{className:"loading"}):null,n.a.createElement("div",{className:"container p-t-30"},this.props.charactersList.map(function(t,a){return n.a.createElement("div",{className:"col-md-3 col-sm-6",key:a},n.a.createElement(S.a,{onClick:function(){return e.handleCharacterCardClick(t)},to:"/character/".concat(t.id),className:"character-main-card"},n.a.createElement(O,{character:t})))})),this.props.charactersPageNumber?null:n.a.createElement("h1",{className:"text-center c-w m-b-30"},"The End."))}}]),t}(r.Component),L=Object(o.b)(function(e){return e},function(e){return{setCharacterList:function(t){e({type:"SET_CHARACTERS_LIST",payload:t})},setCharactersPageNumber:function(t){e({type:"SET_CHARACTERS_PAGE_NUMBER",payload:t})},setSelectedCharacter:function(t){e({type:"SET_SELECTED_CHARACHATER",payload:t})},setLoadingSpinnerStatus:function(t){e({type:"SET_LOADING_SPINNER_STATUS",payload:t})},setScrollIndicator:function(t){e({type:"SET_SCROLL_INDICATOR",payload:t})}}})(j),k=a(19),A=a.n(k),I=a(16),R=a(39),D=Object(o.b)(function(e){return e},{})(function(e){return n.a.createElement("div",{className:"col-md-11"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("img",{className:"character-img-left rounded",src:e.selectedCharacter.image,alt:"sorry, not available now"})),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("div",{className:"character-details-right"},e.selectedCharacter.name&&n.a.createElement("div",{className:"character-detail-field border-bottom row"},n.a.createElement("label",{className:"col-sm-4"},"NAME:"),n.a.createElement("p",{className:"col-sm-8"},e.selectedCharacter.name)),e.selectedCharacter.origin&&e.selectedCharacter.origin.name&&n.a.createElement("div",{className:"character-detail-field border-bottom row"},n.a.createElement("label",{className:"col-sm-4"},"ORIGIN:"),n.a.createElement("p",{className:"col-sm-8"},e.selectedCharacter.origin.name)),e.selectedCharacter.episodesList&&e.selectedCharacter.episodesList.length>0&&n.a.createElement("div",{className:"character-detail-field border-bottom row"},n.a.createElement("label",{className:"col-sm-4"},"EPISODES:"),n.a.createElement("div",{className:"col-sm-8"},e.selectedCharacter.episodesList&&e.selectedCharacter.episodesList.map(function(e,t){return n.a.createElement("p",{key:t},e.name)}))))))}),P=function(e){var t=e.to;return n.a.createElement("div",{className:"back-btn-container col-md-1"},n.a.createElement(S.a,{to:t||"/"},n.a.createElement("img",{src:a(82),alt:"sorry, not available now"})))},x=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark(function e(){var t,a,r;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],a=[],r=[],this.props.setLoadingSpinnerStatus(!0),this.props.setEpisodesLimit(5),e.prev=5,this.props.selectedCharacter.id){e.next=16;break}return e.next=9,Object(N.getCharacter)([this.props.match.params.id]);case 9:return r=e.sent,t=this.getEpisodesIds(r),e.next=13,Object(N.getEpisode)(t);case 13:a=e.sent,e.next=21;break;case 16:return r=this.props.selectedCharacter,t=this.getEpisodesIds(r),e.next=20,Object(N.getEpisode)(t);case 20:a=e.sent;case 21:a=a instanceof Array?a:[a],this.props.setSelectedCharacter(Object(I.a)({},r,{episodesList:a})),this.props.setLoadingSpinnerStatus(!1),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),_(e.t0);case 29:case"end":return e.stop()}},e,this,[[5,26]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.setSelectedCharacter({})}},{key:"getEpisodesIds",value:function(e){return w(e.episode)&&e.episode instanceof Array?e.episode.slice(e.episode.length-this.props.episodesLimit,e.episode.length).map(function(e){return e.split("/").pop()}):[]}},{key:"render",value:function(){return n.a.createElement("div",{className:"character-container"},this.props.loadingSpinner?n.a.createElement("div",{className:"loading"}):null,n.a.createElement(P,{to:"/"}),w(this.props.selectedCharacter)&&n.a.createElement(D,null))}}]),t}(r.Component),H=Object(o.b)(function(e){return e},function(e){return{setSelectedCharacter:function(t){e({type:"SET_SELECTED_CHARACHATER",payload:t})},setLoadingSpinnerStatus:function(t){e({type:"SET_LOADING_SPINNER_STATUS",payload:t})},setEpisodesLimit:function(t){e({type:"SET_EPISODES_LIMIT",payload:t})}}})(x),M=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"app-container"},n.a.createElement(E.a,null,n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{stack:{limit:1},effect:"slide",beep:!1,position:"bottom-right",timeout:4e3,html:!0}),n.a.createElement(C,null),n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a,null,n.a.createElement(b.a,{exact:!0,path:"/",component:L}),n.a.createElement(b.a,{path:"/character/:id",component:H}),n.a.createElement(b.a,{path:"*",exact:!0,component:v}))))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(6),G=a(42),B=a(21),W=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"SET_LOADING_SPINNER_STATUS":a=t.payload;break;default:a=e}return a},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(I.a)({},e);switch(t.type){case"SET_SELECTED_CHARACHATER":a=Object(I.a)({},t.payload);break;default:a=e}return a||e},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=Object(g.a)(e);switch(t.type){case"SET_CHARACTERS_LIST":a=Object(g.a)(t.payload);break;default:a=e}return a},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"SET_CHARACTERS_PAGE_NUMBER":a=t.payload;break;default:a=e}return a},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"SET_EPISODES_LIMIT":a=t.payload;break;default:a=e}return a},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"SET_SCROLL_INDICATOR":a=t.payload;break;default:a=e}return a},K=Object(B.a)({key:"root",storage:G.a,whitelist:[]},{loadingSpinner:W,selectedCharacter:Y,charactersList:F,charactersPageNumber:J,episodesLimit:X,scrollIndicator:$}),V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.c,q=Object(U.d)(K,{},V()),z=(Object(B.b)(q),n.a.createElement(o.a,{store:q},n.a.createElement(M,null)));s.a.render(z,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,2,1]]]);
//# sourceMappingURL=main.b7d094a1.chunk.js.map